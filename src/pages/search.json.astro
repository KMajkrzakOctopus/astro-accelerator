---
import type { MarkdownInstance } from 'astro';

const allPages: MarkdownInstance<Record<string, any>>[] = await Astro.glob('./**/*.md');

const items = JSON.stringify(allPages.map(page => {
    return {
        title: page.frontmatter.title ?? '',
        category: page.frontmatter.category ?? '',
        tags: page.frontmatter.keywords ?? '',
        url: page.url ?? '',
        date: page.date ?? ''
    };
}));


---
<Fragment set:html={items} />